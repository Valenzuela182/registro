(this.webpackJsonpregistro=this.webpackJsonpregistro||[]).push([[0],{44:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(27),s=n.n(r),i=n(15),o=n(5),l=n(1),u=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h2",{children:"Admin"})})},b=function(){return Object(l.jsx)("div",{})},j=n(11),d=n(28),m=(n(35),n(45),d.a.initializeApp({apiKey:"AIzaSyAP-yTShaYl2J6jIkI4sGVLeB5ujb6OlL0",authDomain:"registro-v2.firebaseapp.com",projectId:"registro-v2",storageBucket:"registro-v2.appspot.com",messagingSenderId:"230837729646",appId:"1:230837729646:web:0804cc8105b569c9a8297f",measurementId:"G-K290S6R5DF"})),p=m.auth(),O=m.firestore(),x=function(){var e=Object(o.f)(),t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),u=i[0],b=i[1],d=Object(a.useState)(null),m=Object(j.a)(d,2),O=m[0],x=m[1];return Object(l.jsxs)("div",{className:"row mt-5",children:[Object(l.jsx)("div",{className:"col"}),Object(l.jsxs)("div",{className:"col",children:[Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),p.createUserWithEmailAndPassword(c,u).then((function(t){e.push("/inicio")})).catch((function(e){"auth/invalid-email"===e.code&&x("Formato email incorrecto"),"auth/weak-password"===e.code&&x("La contrase\xf1a debe tener al menos 6 caracteres")}))},className:"form-group",children:[Object(l.jsx)("input",{onChange:function(e){return r(e.target.value)},className:"form-control",placeholder:"Ingresa tu email",type:"email"}),Object(l.jsx)("input",{onChange:function(e){return b(e.target.value)},className:"form-control mt-1",placeholder:"Contrase\xf1a",type:"password"}),Object(l.jsx)("input",{className:"btn btn-dark btn-block mt-3",value:"Registrar Usuario",type:"submit"})]}),Object(l.jsx)("button",{onClick:function(){p.signInWithEmailAndPassword(c,u).then((function(t){e.push("/inicio")})).catch((function(e){"auth/wrong-password"===e.code&&x("Contrase\xf1a incorrecta")}))},className:"btn btn-success btn-block",children:"Iniciar Sesion"}),null!=O?Object(l.jsx)("div",{children:O}):Object(l.jsx)("span",{})]}),Object(l.jsx)("div",{className:"col"})]})},h=function(){var e=Object(o.f)(),t=Object(a.useState)(null),n=Object(j.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){p.onAuthStateChanged((function(e){e&&(r(e.email),console.log(e.email))}))}),[]);return Object(l.jsx)("div",{children:Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(l.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(l.jsx)("li",{className:"nav-item",children:c?Object(l.jsx)(i.b,{className:"nav-link",to:"/inicio",children:"Inicio"}):Object(l.jsx)("span",{})}),Object(l.jsx)("li",{className:"nav-item",children:c?Object(l.jsx)("span",{}):Object(l.jsx)(i.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(l.jsx)("li",{className:"nav-item",children:c?Object(l.jsx)(i.b,{className:"nav-link",to:"/admin",children:"Admin"}):Object(l.jsx)("span",{})})]}),c?Object(l.jsx)("button",{onClick:function(){p.signOut(),r(null),e.push("/login")},className:"btn btn-danger",children:"Cerrar Sesion"}):Object(l.jsx)("span",{})]})})},f=n(14),v=n.n(f),g=n(20),k=n(18),N=function(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(j.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(""),b=Object(j.a)(u,2),d=b[0],m=b[1],p=Object(a.useState)(""),x=Object(j.a)(p,2),h=x[0],f=x[1],N=Object(a.useState)([]),w=Object(j.a)(N,2),S=w[0],y=w[1],C=Object(a.useState)(""),I=Object(j.a)(C,2),A=I[0],D=I[1];Object(a.useEffect)((function(){(function(){var e=Object(k.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("agenda").get();case 2:t=e.sent,n=t.docs,a=n.map((function(e){return Object(g.a)({id:e.id},e.data())})),y(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=function(){var e=Object(k.a)(v.a.mark((function e(t){var n,a,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d.trim()||h.trim()){e.next=5;break}D("Debe llenar ambos campos"),e.next=32;break;case 5:if(d.trim()){e.next=9;break}D("Campo nombre vacio"),e.next=32;break;case 9:if(h.trim()){e.next=13;break}D("Campo numero vacio"),e.next=32;break;case 13:return n={nombre:d,numero:h},e.prev=14,e.next=17,O.collection("agenda").add(n);case 17:return e.sent,e.next=20,O.collection("agenda").get();case 20:a=e.sent,c=a.docs,r=c.map((function(e){return Object(g.a)({id:e.id},e.data())})),y(r),alert("Agregado"),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(14),console.log(e.t0);case 30:m(""),f("");case 32:case"end":return e.stop()}}),e,null,[[14,27]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(v.a.mark((function e(t){var n,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.collection("agenda").doc(t).delete();case 3:return e.next=5,O.collection("agenda").get();case 5:n=e.sent,a=n.docs,c=a.map((function(e){return Object(g.a)({id:e.id},e.data())})),y(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(v.a.mark((function e(t){var n,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.collection("agenda").doc(t).get();case 3:n=e.sent,a=n.data(),r=a.nombre,s=a.numero,m(r),f(s),o(t),c(!0),console.log(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(k.a)(v.a.mark((function e(t){var n,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d.trim()||h.trim()){e.next=5;break}D("Debe llenar ambos campos"),e.next=32;break;case 5:if(d.trim()){e.next=9;break}D("Campo nombre vacio"),e.next=32;break;case 9:if(h.trim()){e.next=13;break}D("Campo numero vacio"),e.next=32;break;case 13:return n={nombre:d,numero:h},e.prev=14,e.next=17,O.collection("agenda").doc(i).set(n);case 17:return e.next=19,O.collection("agenda").get();case 19:a=e.sent,r=a.docs,s=r.map((function(e){return Object(g.a)({id:e.id},e.data())})),y(s),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(14),console.log(e.t0);case 28:m(""),f(""),o(""),c(!1);case 32:case"end":return e.stop()}}),e,null,[[14,25]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row mt-4",children:[Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)("h2",{children:"Formulario de usuario"}),Object(l.jsxs)("form",{className:"form-group",onSubmit:n?B:E,children:[Object(l.jsx)("input",{value:d,onChange:function(e){m(e.target.value)},className:"form-control",placeholder:"Introduce el nombre",type:"text"}),Object(l.jsx)("input",{value:h,onChange:function(e){f(e.target.value)},className:"form-control mt-3",placeholder:"Introduce el numero",type:"text"}),n?Object(l.jsx)("input",{type:"submit",value:"Editar",className:"btn btn-dark btn-block mt-3"}):Object(l.jsx)("input",{type:"submit",value:"Registrar",className:"btn btn-dark btn-block mt-3"})]}),A?Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:A})}):Object(l.jsx)("span",{})]}),Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)("h2",{children:"Lista de personas"}),Object(l.jsx)("ul",{className:"list-group",children:0!==S.length?S.map((function(e){return Object(l.jsxs)("li",{className:"list-group-item",children:[e.nombre," -- ",e.numero,Object(l.jsx)("button",{onClick:function(t){L(e.id)},className:"btn btn-danger float-right",children:"Eliminar"}),Object(l.jsx)("button",{onClick:function(t){z(e.id)},className:"btn btn-info float-right mr-2",children:"Actualizar"})]},e.id)})):Object(l.jsx)("span",{children:"No hay usuarios"})})]})]})})};var w=function(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(h,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/registro",component:x}),Object(l.jsx)(o.a,{path:"/inicio",component:b,children:Object(l.jsx)(N,{})}),Object(l.jsx)(o.a,{path:"/admin",component:u}),Object(l.jsx)(o.a,{path:"/login",component:x})]})]})})};n(43);s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.7506965a.chunk.js.map