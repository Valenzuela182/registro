(this.webpackJsonpregistro=this.webpackJsonpregistro||[]).push([[0],{44:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(26),r=n.n(s),i=n(14),o=n(5),l=n(1),j=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h2",{children:"Admin"})})},b=function(){return Object(l.jsx)("div",{})},u=n(13),d=n(27),m=(n(35),n(45),d.a.initializeApp({apiKey:"AIzaSyAP-yTShaYl2J6jIkI4sGVLeB5ujb6OlL0",authDomain:"registro-v2.firebaseapp.com",projectId:"registro-v2",storageBucket:"registro-v2.appspot.com",messagingSenderId:"230837729646",appId:"1:230837729646:web:0804cc8105b569c9a8297f",measurementId:"G-K290S6R5DF"})),O=m.auth(),h=m.firestore(),p=function(){var e=Object(o.f)(),t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),i=Object(u.a)(r,2),j=i[0],b=i[1],d=Object(a.useState)(null),m=Object(u.a)(d,2),h=m[0],p=m[1];return Object(l.jsxs)("div",{className:"row mt-5",children:[Object(l.jsx)("div",{className:"col"}),Object(l.jsxs)("div",{className:"col",children:[Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),O.createUserWithEmailAndPassword(c,j).then((function(t){e.push("/")})).catch((function(e){"auth/invalid-email"===e.code&&p("Formato email incorrecto"),"auth/weak-password"===e.code&&p("La contrase\xf1a debe tener al menos 6 caracteres")}))},className:"form-group",children:[Object(l.jsx)("input",{onChange:function(e){return s(e.target.value)},className:"form-control",placeholder:"Ingresa tu email",type:"email"}),Object(l.jsx)("input",{onChange:function(e){return b(e.target.value)},className:"form-control mt-1",placeholder:"Contrase\xf1a",type:"password"}),Object(l.jsx)("input",{className:"btn btn-dark btn-block mt-3",value:"Registrar Usuario",type:"submit"})]}),Object(l.jsx)("button",{onClick:function(){O.signInWithEmailAndPassword(c,j).then((function(t){e.push("/")})).catch((function(e){"auth/wrong-password"===e.code&&p("Contrase\xf1a incorrecta")}))},className:"btn btn-success btn-block",children:"Iniciar Sesion"}),null!=h?Object(l.jsx)("div",{children:h}):Object(l.jsx)("span",{})]}),Object(l.jsx)("div",{className:"col"})]})},x=function(){var e=Object(o.f)(),t=Object(a.useState)(null),n=Object(u.a)(t,2),c=n[0],s=n[1];Object(a.useEffect)((function(){O.onAuthStateChanged((function(e){e&&(s(e.email),console.log(e.email))}))}),[]);return Object(l.jsx)("div",{children:Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(l.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.b,{className:"nav-link",to:"/",children:"Inicio"})}),Object(l.jsx)("li",{className:"nav-item",children:c?Object(l.jsx)("span",{}):Object(l.jsx)(i.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(l.jsx)("li",{className:"nav-item",children:c?Object(l.jsx)(i.b,{className:"nav-link",to:"/admin",children:"Admin"}):Object(l.jsx)("span",{})})]}),c?Object(l.jsx)("button",{onClick:function(){O.signOut(),s(null),e.push("/")},className:"btn btn-danger",children:"Cerrar Sesion"}):Object(l.jsx)("span",{})]})})},v=n(18),f=n.n(v),g=n(29),N=n(24),k=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(u.a)(s,2),i=r[0],o=r[1],j=Object(a.useState)([]),b=Object(u.a)(j,2),d=b[0],m=b[1],O=Object(a.useState)(""),p=Object(u.a)(O,2),x=p[0],v=p[1];Object(a.useEffect)((function(){(function(){var e=Object(N.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("agenda").get();case 2:t=e.sent,n=t.docs,a=n.map((function(e){return Object(g.a)({id:e.id},e.data())})),m(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var k=function(){var e=Object(N.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()||i.trim()){e.next=5;break}v("Debe llenar ambos campos"),e.next=26;break;case 5:if(n.trim()){e.next=9;break}v("Campo nombre vacio"),e.next=26;break;case 9:if(i.trim()){e.next=13;break}v("Campo numero vacio"),e.next=26;break;case 13:return a={nombre:n,numero:i},e.prev=14,e.next=17,h.collection("agenda").add(a);case 17:e.sent,console.log("Agregado"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),console.log(e.t0);case 24:c(""),o("");case 26:case"end":return e.stop()}}),e,null,[[14,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row mt-4",children:[Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)("h2",{children:"Formulario de usuario"}),Object(l.jsxs)("form",{className:"form-group",onSubmit:k,children:[Object(l.jsx)("input",{value:n,onChange:function(e){c(e.target.value)},className:"form-control",placeholder:"Introduce el nombre",type:"text"}),Object(l.jsx)("input",{value:i,onChange:function(e){o(e.target.value)},className:"form-control mt-3",placeholder:"Introduce el numero",type:"text"}),Object(l.jsx)("input",{type:"submit",value:"Registrar",className:"btn btn-dark btn-block mt-3"})]}),x?Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:x})}):Object(l.jsx)("span",{})]}),Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)("h2",{children:"Lista de personas"}),Object(l.jsx)("ul",{children:0!==d.length?d.map((function(e){return Object(l.jsxs)("li",{children:[" ",e.nombre," -- ",e.numero]},e.id)})):Object(l.jsx)("span",{children:"No hay usuarios"})})]})]})})};var S=function(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(x,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:b,children:Object(l.jsx)(k,{})}),Object(l.jsx)(o.a,{path:"/admin",component:j}),Object(l.jsx)(o.a,{path:"/login",component:p})]})]})})};n(43);r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.97a1e160.chunk.js.map